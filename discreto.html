<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>Pagina Principal | ILabo</title>
    <!-- Favicon-->
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

    <!-- Bootstrap Core Css -->
    <link href="plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Waves Effect Css -->
    <link href="plugins/node-waves/waves.css" rel="stylesheet" />

    <!-- Animation Css -->
    <link href="plugins/animate-css/animate.css" rel="stylesheet" />

    <!-- Custom Css -->
    <link href="css/style.css" rel="stylesheet">

    <!-- AdminBSB Themes. You can choose a theme from css/themes instead of get all themes -->
    <link href="css/themes/all-themes.css" rel="stylesheet" />

    <script src="math.js"></script>
    <script src="numeric-1.2.6.min.js"></script>
    <script src="custom_argument_parsing.js"></script>
    <script src ="least_squares.js" ></script>


</head>

<body class="theme-red">
    <!-- Page Loader -->
    <div class="page-loader-wrapper">
        <div class="loader">
            <div class="preloader">
                <div class="spinner-layer pl-cyan">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
            <p>Por favor espere</p>
        </div>
    </div>
    <!-- #END# Page Loader -->
    <!-- Overlay For Sidebars -->
    <div class="overlay"></div>
    <!-- #END# Overlay For Sidebars -->
    <!-- Top Bar -->
    <nav class="navbar">
        <div class="container-fluid">
            <div class="navbar-header">
                <a href="javascript:void(0);" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="true"></a>
                <a href="javascript:void(0);" class="bars"></a>
                <a class="navbar-brand" href="index.html">
                    <div class="row clearfix">
                        <div col-lg-3 col-md-3 col-sm-3 col-xs-3>
                            <img src="images/favicon-32x32.png" width="32" height="32">
                            <span>Minimos Cuadrados</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </nav>
    <!-- #Top Bar -->
    <section>
        <!-- Left Sidebar -->
        <aside id="leftsidebar" class="sidebar">
            <!-- User Info -->
            <div class="user-info">
            </div>
            <!-- #User Info -->
            <!-- Menu-->
            <div class="menu">
                <ul class="list">
                    <li class="header">Menú Principal</li>
                    <li>
                        <a href="index.html">
                            <i class="material-icons">home</i>
                            <span>Inicio</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="discreto.html">
                            <i class="material-icons">show_chart</i>
                            <span>Caso Discreto</span>
                        </a>
                    </li>
                    <li>
                        <a href="continuo.html">
                            <i class="material-icons">multiline_chart</i>
                            <span>Caso Continuo</span>
                        </a>
                    </li>
                </ul>
            </div>

        </aside>
        <!-- #END# Left Sidebar -->
    </section>

    <section class="content">
        <div class="container-fluid">
            <div class="block-header">
                <h2>Caso Discreto</h2>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <div class="card">
                    <div class="header">
                        <h2>Nube de puntos</h2>
                        <button type="button" class="btn bg-cyan btn-xs waves-effect m-r-20" style="margin-top: 5px" data-toggle="modal" data-target="#modal1">Agregar más puntos</button>
                    </div>
                    <div class="body">
                        <div class="row clearfix">
                            <div class="col-sm-6">
                                <label>Puntos en X</label>
                            </div>
                            <div class="col-sm-6">
                                <label>Puntos en Y</label>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <div class="form-line">
                                        <input type="text" class="form-control" placeholder="Punto x1" id="inputX1"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <div class="form-line">
                                        <input type="text" class="form-control" placeholder="Punto y1" id="inputY1" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row clearfix">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <div class="form-line">
                                        <input type="text" class="form-control" placeholder="Punto x2" id="inputX2"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <div class="form-line">
                                        <input type="text" class="form-control" placeholder="Punto y2" id="inputY2" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="campos"></div>

                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <div class="row clearfix">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" data-toggle="modal" data-target="#modal2">
                        <div class="info-box-4 hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons col-light-blue">filter_4</i>
                            </div>
                            <div class="content">
                                <div class="text">Expresión</div>
                                <div class="number">Polinomial</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" onclick="exponencial();">
                        <div class="info-box-4 hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons col-cyan">timeline</i>
                            </div>
                            <div class="content">
                                <div class="text">Expresión</div>
                                <div class="number">Exponencial</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" onclick="potencia();">
                        <div class="info-box-4 hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons col-red">show_chart</i>
                            </div>
                            <div class="content">
                                <div class="text">Expresión</div>
                                <div class="number">Potencia</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" onclick="logaritmica();">
                        <div class="info-box-4 hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons col-green">timeline</i>
                            </div>
                            <div class="content">
                                <div class="text">Expresión</div>
                                <div class="number">Logarítmica</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" data-toggle="modal" data-target="#modal3">
                        <div class="info-box-4 hover-zoom-effect">
                            <div class="icon">
                                <i class="material-icons col-amber">insert_chart</i>
                            </div>
                            <div class="content">
                                <div class="text"></div>
                                <div class="number">Personalizada</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="campo">

                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-sm-6">
                <div class="form-group">
                    <div class="form-line">
                        <label>Funcion</label>
                        <input type="text" class="form-control" placeholder="Funcion" id="inputF" />
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="form-group">
                    <div class="form-line">
                        <label>Interpolante</label>
                        <input type="text" class="form-control" placeholder=" Interpolante a evaluar" id="inputE" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="card">
                    <div class="header">
                        <h2>Grafica</h2>
                        <button type="button" onclick="CasoDiscretoPDF(matrixecus, coefsecus);" class="btn bg-red btn-xs waves-effect m-r-20" style="margin-top: 5px">Generar PDF</button>
                    </div>
                    <div class="body">
                        <p id="prueba"></p>
                        <p id="prueba2"></p>
                      <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
                    </div>
            </div>

        </div>
    </section>

    <!-- Modal Dialogs ====================================================================================================================== -->
            <!-- Default Size -->
            <div class="modal fade" id="modal1" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="defaultModalLabel">¿Cuántos puntos desea agregar?</h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" class="form-control" id="number" onkeypress="return valida(event);"/>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link waves-effect" data-dismiss="modal" onclick="AgregarCampos();">Aceptar</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="modal2" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="defaultModalLabel">Ingrese el grado de la funcion a evaluar:</h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" class="form-control" id="number2" onkeypress="return valida(event);"/>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link waves-effect" data-dismiss="modal" onclick="polinomial()">Aceptar</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal fade" id="modal3" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="defaultModalLabel">Ingrese la expresion deseada:</h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" class="form-control" id="number3"/>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-link waves-effect" data-dismiss="modal" onclick="AgregarCampo();">Aceptar</button>
                        </div>
                    </div>
                </div>
            </div>



    <!-- Jquery Core Js -->
    <script src="plugins/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core Js -->
    <script src="plugins/bootstrap/js/bootstrap.js"></script>

    <!-- Select Plugin Js -->
    <script src="plugins/bootstrap-select/js/bootstrap-select.js"></script>

    <!-- Slimscroll Plugin Js -->
    <script src="plugins/jquery-slimscroll/jquery.slimscroll.js"></script>

    <!-- Waves Effect Plugin Js -->
    <script src="plugins/node-waves/waves.js"></script>

     <script src="plugins/jquery-countto/jquery.countTo.js"></script>

    <!-- Custom Js -->
    <script src="js/admin.js"></script>

    <script src="https://code.highcharts.com/highcharts.js"></script>

    <script src="https://code.highcharts.com/modules/exporting.js"></script>



    <!-- Demo Js -->
    <script src="js/demo.js"></script>


    <script type="text/javascript">

        var num = 2;

        function exponencial() {
            Mx=CrearMx();
            My=CrearMy();

            document.getElementById('inputF').value=DiscExpo(num,Mx,My);
            ecussexp(num,Mx,My)
        }

        function logaritmica() {
            Mx=CrearMx();
            My=CrearMy();

            document.getElementById('inputF').value=DiscLog(num,Mx,My);
            var fun = document.getElementById("inputF").value;
            plotDisc(parOrd(Mx,My),parOrd(Mx,evalFunc(fun,Mx)));
        }
        var matrixecus;
        var coefsecus;
        function ecusspol(num,m,Mx,My){
          matrixecus=createMatrix(m+1);
          var coef1 = fillCoef1(num,m,Mx);
          matrixecus = fillMatrix(m,coef1);
          console.log(coef1);
          console.log(matrixecus);
          coefsecus = fillCoef2(num,m,Mx,My);
        }
        function ecusspot(n,x,y){
          matrixecus=createMatrix(2);
          var coef1 = fillCoef1(n,1,math.log(x));
          matrixecus = fillMatrix(1,coef1);
          coefsecus = fillCoef2(n,1,math.log(x),math.log(y));
        }
        function ecussexp(n,x,y){
          matrixecus=createMatrix(2);
          var coef1 = fillCoef1(n,1,x);
          matrixecus = fillMatrix(1,coef1);
          coefsecus = fillCoef2(n,1,x,math.log(y));
        }

        function potencia() {
            Mx=CrearMx();
            My=CrearMy();

            document.getElementById('inputF').value=DiscPoten(num,Mx,My);
            ecusspot(num,Mx,My);
        }

        function polinomial() {
            Mx=CrearMx();
            My=CrearMy();
            var number2=document.getElementById("number2").value;
            if (number2==1) {
                document.getElementById('inputF').value=DiscPol(num,1,Mx,My);
                ecusspol(num,1,Mx,My);
                var fun = document.getElementById("inputF").value;
                plotDisc(parOrd(Mx,My),parOrd(Mx,evalFunc(fun,Mx)));
            }
            else if (number2==2) {
                document.getElementById('inputF').value=DiscPol(num,2,Mx,My);
                ecusspol(num,2,Mx,My);
            }
            else if (number2==3) {
                document.getElementById('inputF').value=DiscPol(num,3,Mx,My);
                ecusspol(num,3,Mx,My);
            }
            else if (number2==4) {
                document.getElementById('inputF').value=DiscPol(num,4,Mx,My);
                ecusspol(num,4,Mx,My);
            }
            else{
                alert('Grado no permitido');
            }
        }


        function valida(e){
          tecla = (document.all) ? e.keyCode : e.which;

          //Tecla de retroceso para borrar, siempre la permite
          if (tecla==8){
              return true;
          }

          // Patron de entrada, en este caso solo acepta numeros
          patron =/[1-9]/;
          tecla_final = String.fromCharCode(tecla);
          return patron.test(tecla_final);
        }

        function AgregarCampos(){
            var number=document.getElementById("number").value;

            for (var i = 1; i <= number; i++) {
                campo='<div class="row clearfix">'+
                            '<div class="col-sm-6">'+
                                '<div class="form-group">'+
                                    '<div class="form-line">'+
                                        '<input type="text" class="form-control" placeholder="Punto x'+(i+2)+'" id="inputX'+(i+2)+'"/>'+
                                    '</div>'+
                                '</div>'+
                            '</div>'+
                            '<div class="col-sm-6">'+
                                '<div class="form-group">'+
                                    '<div class="form-line">'+
                                        '<input type="text" class="form-control" placeholder="Punto y'+(i+2)+'" id="inputY'+(i+2)+'" />'+
                                    '</div>'+
                                '</div>'+
                            '</div>'+
                        '</div>';

                $("#campos").append(campo);
                if(number == i){
                    num += i;
                }
            }
            alert(num);
        }

        function AgregarCampo(){
            var number=document.getElementById("number3").value;
            campo='<label>Expresión deseada</label>'+'<input type="text" class="form-control" id="number2" onkeypress="return valida(event);" value="'+number+'" disabled/>';
            $("#campo").append(campo);

        }

        function CrearMx(){
            var x = [];
            for (var i = 0; i < num; i++) {
                  x[i]=document.getElementById("inputX"+(i+1)).value;
            }

            return x;
        }

        function CrearMy(){
            var y = [];
            for (var i = 0; i < num; i++) {
                  y[i]=document.getElementById("inputY"+(i+1)).value;
            }

            return y;
        }

        var arr = [1,2,3,4];
        var cad = "x^2";
        function exactValueContin(cad,arr){
            var node2 = math.parse(cad);
            var code2 = node2.compile();

            var evalpoints = new Array();

            for(var i=0;i<=arr.length;i++){
                evalpoints[i]=new Array(2);
                 var epoint =arr[i];
                var scope = {
                  x: epoint,
                };
                evalpoints[i].push(array[i]);
                evalpoints[i].push(code2.eval(scope));

            }

            return evalpoints;

        }

    </script>
    <script src="js/jsPDF/jspdf.debug.js"></script>
    <script src="js/jsPDF/main.js"></script>
    <script src="build.js"></script>
    <script src="js/funcionespdf.js"></script>
</body>

</html>
